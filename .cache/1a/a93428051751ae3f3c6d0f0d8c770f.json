{"id":"ZCfc","dependencies":[{"name":"D:\\nodebook\\IMI-CHAT-PREVIEW\\tsconfig.json","includedInParent":true,"mtime":1567169658822},{"name":"D:\\nodebook\\IMI-CHAT-PREVIEW\\package.json","includedInParent":true,"mtime":1569915326222},{"name":"./dom","loc":{"line":12,"column":22},"parent":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\main.ts","resolved":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\dom.ts"},{"name":"./bot-details","loc":{"line":13,"column":30},"parent":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\main.ts","resolved":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\bot-details.ts"},{"name":"regenerator-runtime/runtime","loc":{"line":14,"column":8},"parent":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\main.ts","resolved":"D:\\nodebook\\IMI-CHAT-PREVIEW\\node_modules\\regenerator-runtime\\runtime.js"},{"name":"./send-api","loc":{"line":15,"column":27},"parent":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\main.ts","resolved":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\send-api.ts"},{"name":"./environment","loc":{"line":16,"column":30},"parent":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\main.ts","resolved":"D:\\nodebook\\IMI-CHAT-PREVIEW\\src\\environment.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"./dom\"),n=require(\"./bot-details\");require(\"regenerator-runtime/runtime\");var r=require(\"./send-api\"),o=require(\"./environment\");function i(){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(),e.next=3,n.getBotDetails();case 3:r=e.sent,o.environment.bot_access_token=r.bot_access_token,t.setIntroDetails({description:r.description,logo:r.logo,title:r.name});case 6:case\"end\":return e.stop()}},e)}))}function s(){t.$chatInput.addEventListener(\"keypress\",function(n){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"Enter\"!==n.key){e.next=9;break}return i=t.$chatInput.value,t.AppendMessageInChatBody([{sourceType:\"bot\",text:i,time:Date.now()}]),e.next=5,r.sendMessageToBot(o.environment.bot_access_token,o.environment.enterprise_unique_name,i);case 5:s=e.sent,a=r.serializeGeneratedMessagesToPreviewMessages(s.generated_msg),t.AppendMessageInChatBody(a);case 9:case\"end\":return e.stop()}},e)}))})}i().then(function(e){return console.log(\"app init success\")});"},"sourceMaps":{"js":{"mappings":[{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":0}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":13}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":17}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":19}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":25}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":30}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":41}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":50}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":52}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":54}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":56}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":59}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":66}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":70}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":74}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":76}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":86}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":95}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":97}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":100}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":109}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":111}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":114}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":118}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":120}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":122}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":127}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":131}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":137}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":140}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":142}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":146}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":155}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":157}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":160}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":164}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":166}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":168}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":174}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":178}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":184}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":187}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":189}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":193}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":202}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":204}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":207}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":211}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":213}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":215}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":220}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":222}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":224}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":232}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":234}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":236}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":242}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":255}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":257}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":259}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":263}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":265}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":274}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":277}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":279}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":285}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":290}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":292}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":295}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":298}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":300}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":302}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":308}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":310}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":313}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":318}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":329}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":336}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":351}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":359}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":372}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":373}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":380}},{"source":"main.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":384}},{"source":"main.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":388}},{"source":"main.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":390}},{"source":"main.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":398}},{"source":"main.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":407}},{"source":"main.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":409}},{"source":"main.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":417}},{"source":"main.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":434}},{"source":"main.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":442}},{"source":"main.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":473}},{"source":"main.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":477}},{"source":"main.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":479}},{"source":"main.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":487}},{"source":"main.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":501}},{"source":"main.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":503}},{"source":"main.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":511}},{"source":"main.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":528}},{"source":"main.ts","name":null,"original":{"line":10,"column":15},"generated":{"line":1,"column":537}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":541}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":548}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":550}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":560}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":567}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":569}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":588}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":593}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":602}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":606}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":610}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":612}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":619}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":638}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":643}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":652}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":655}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":662}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":669}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":671}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":676}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":678}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":684}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":689}},{"source":"main.ts","name":null,"original":{"line":12,"column":29},"generated":{"line":1,"column":691}},{"source":"main.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":698}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":702}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":704}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":709}},{"source":"main.ts","name":null,"original":{"line":12,"column":29},"generated":{"line":1,"column":711}},{"source":"main.ts","name":null,"original":{"line":12,"column":29},"generated":{"line":1,"column":713}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":729}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":734}},{"source":"main.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":736}},{"source":"main.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":738}},{"source":"main.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":740}},{"source":"main.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":745}},{"source":"main.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":747}},{"source":"main.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":759}},{"source":"main.ts","name":null,"original":{"line":13,"column":35},"generated":{"line":1,"column":776}},{"source":"main.ts","name":null,"original":{"line":13,"column":46},"generated":{"line":1,"column":778}},{"source":"main.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":795}},{"source":"main.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":797}},{"source":"main.ts","name":null,"original":{"line":14,"column":20},"generated":{"line":1,"column":813}},{"source":"main.ts","name":null,"original":{"line":14,"column":21},"generated":{"line":1,"column":814}},{"source":"main.ts","name":null,"original":{"line":14,"column":34},"generated":{"line":1,"column":826}},{"source":"main.ts","name":null,"original":{"line":14,"column":45},"generated":{"line":1,"column":828}},{"source":"main.ts","name":null,"original":{"line":14,"column":58},"generated":{"line":1,"column":840}},{"source":"main.ts","name":null,"original":{"line":14,"column":64},"generated":{"line":1,"column":845}},{"source":"main.ts","name":null,"original":{"line":14,"column":75},"generated":{"line":1,"column":847}},{"source":"main.ts","name":null,"original":{"line":14,"column":81},"generated":{"line":1,"column":852}},{"source":"main.ts","name":null,"original":{"line":14,"column":88},"generated":{"line":1,"column":858}},{"source":"main.ts","name":null,"original":{"line":14,"column":99},"generated":{"line":1,"column":860}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":867}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":872}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":874}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":878}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":884}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":891}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":893}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":902}},{"source":"main.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":908}},{"source":"main.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":917}},{"source":"main.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":921}},{"source":"main.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":923}},{"source":"main.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":934}},{"source":"main.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":1,"column":951}},{"source":"main.ts","name":null,"original":{"line":19,"column":44},"generated":{"line":1,"column":962}},{"source":"main.ts","name":null,"original":{"line":19,"column":60},"generated":{"line":1,"column":971}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":974}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":981}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":983}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":993}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1000}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1002}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1021}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1026}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1035}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1039}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1043}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1045}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1047}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1049}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1056}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1075}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1080}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1089}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1092}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1099}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1106}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1108}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1113}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1115}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1121}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1126}},{"source":"main.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":1128}},{"source":"main.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":1,"column":1131}},{"source":"main.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":1141}},{"source":"main.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":1143}},{"source":"main.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":1,"column":1147}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1148}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1150}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1155}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1157}},{"source":"main.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":1,"column":1163}},{"source":"main.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":1170}},{"source":"main.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":1172}},{"source":"main.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":1174}},{"source":"main.ts","name":null,"original":{"line":21,"column":42},"generated":{"line":1,"column":1185}},{"source":"main.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":1191}},{"source":"main.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":1193}},{"source":"main.ts","name":null,"original":{"line":22,"column":36},"generated":{"line":1,"column":1217}},{"source":"main.ts","name":null,"original":{"line":22,"column":37},"generated":{"line":1,"column":1218}},{"source":"main.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":1,"column":1219}},{"source":"main.ts","name":null,"original":{"line":23,"column":28},"generated":{"line":1,"column":1230}},{"source":"main.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":1236}},{"source":"main.ts","name":null,"original":{"line":24,"column":22},"generated":{"line":1,"column":1241}},{"source":"main.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":1243}},{"source":"main.ts","name":null,"original":{"line":25,"column":22},"generated":{"line":1,"column":1248}},{"source":"main.ts","name":null,"original":{"line":25,"column":27},"generated":{"line":1,"column":1253}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1262}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1264}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1269}},{"source":"main.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":1,"column":1271}},{"source":"main.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":1,"column":1273}},{"source":"main.ts","name":null,"original":{"line":27,"column":55},"generated":{"line":1,"column":1290}},{"source":"main.ts","name":null,"original":{"line":27,"column":55},"generated":{"line":1,"column":1292}},{"source":"main.ts","name":null,"original":{"line":27,"column":67},"generated":{"line":1,"column":1304}},{"source":"main.ts","name":null,"original":{"line":27,"column":85},"generated":{"line":1,"column":1321}},{"source":"main.ts","name":null,"original":{"line":27,"column":85},"generated":{"line":1,"column":1323}},{"source":"main.ts","name":null,"original":{"line":27,"column":97},"generated":{"line":1,"column":1335}},{"source":"main.ts","name":null,"original":{"line":27,"column":121},"generated":{"line":1,"column":1358}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1361}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1366}},{"source":"main.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":1368}},{"source":"main.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":1370}},{"source":"main.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":1372}},{"source":"main.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":1377}},{"source":"main.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":1,"column":1379}},{"source":"main.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":1,"column":1381}},{"source":"main.ts","name":null,"original":{"line":28,"column":79},"generated":{"line":1,"column":1425}},{"source":"main.ts","name":null,"original":{"line":28,"column":91},"generated":{"line":1,"column":1427}},{"source":"main.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":1442}},{"source":"main.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":1444}},{"source":"main.ts","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":1468}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1471}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1476}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1478}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1482}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1488}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1495}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1497}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1506}},{"source":"main.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":1514}},{"source":"main.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":1518}},{"source":"main.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":1523}},{"source":"main.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":1532}},{"source":"main.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":1,"column":1535}},{"source":"main.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":1,"column":1542}},{"source":"main.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":1550}},{"source":"main.ts","name":null,"original":{"line":36,"column":32},"generated":{"line":1,"column":1554}}],"sources":{"main.ts":"import {makeGetReq} from \"./ajax\";\r\nimport {$chatInput, AppendMessageInChatBody, setIntroDetails} from \"./dom\";\r\nimport {getBotDetails} from \"./bot-details\";\r\nimport {IBotDetailsApiResp} from \"./typings/bot-detaills-api\";\r\nimport 'regenerator-runtime/runtime'\r\nimport {sendMessageToBot, serializeGeneratedMessagesToPreviewMessages} from \"./send-api\";\r\nimport {environment} from \"./environment\";\r\nimport {IMessageData} from \"./typings/send-api\";\r\n\r\nasync function initApp() {\r\n    initEvents();\r\n    const botDetails = await getBotDetails<IBotDetailsApiResp>();\r\n    environment.bot_access_token = botDetails.bot_access_token;\r\n    setIntroDetails({description: botDetails.description, logo: botDetails.logo, title: botDetails.name});\r\n}\r\n\r\n\r\nfunction initEvents() {\r\n    $chatInput.addEventListener('keypress', async function ($event: KeyboardEvent) {\r\n        if ($event.key === 'Enter') {\r\n            let humanMessage = $chatInput.value;\r\n            AppendMessageInChatBody([{\r\n                sourceType: \"bot\",\r\n                text: humanMessage,\r\n                time: Date.now()\r\n            }]);\r\n            const botResponse = await sendMessageToBot(environment.bot_access_token, environment.enterprise_unique_name, humanMessage)\r\n            let messageData: any = serializeGeneratedMessagesToPreviewMessages(botResponse.generated_msg);\r\n            debugger;\r\n            AppendMessageInChatBody(messageData);\r\n        }\r\n    })\r\n}\r\n\r\n\r\ninitApp().then(_ => console.log('app init success'));\r\n"},"lineCount":null}},"error":null,"hash":"35f419b32e46fe2209e8c92c1f767839","cacheData":{"env":{}}}